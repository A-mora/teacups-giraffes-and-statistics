<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title>Covariance and Correlation</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="https://fonts.googleapis.com/css?family=Open+Sans:400,600,700" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Lora:400,400i,700,700i" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:200,200i,300,300i,400,400i,600,600i,700,700i,900,900i" rel="stylesheet">
<link href="style.css" rel="stylesheet">

  <div class="image-descript"> 
		<img class="big_image" src="holding.png">
		<div class="image-text">
			<div class="lil-image-text">Insert nice phrase:</div>
			<div class="big-image-text"><strong>COVARIANCE & CORRELATION</strong></div>
		</div>
  </div>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />

</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<div class="container-fluid main-container">

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->



<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}


.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
  padding-left: 25px;
  text-indent: 0;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>

<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify" style="position: static;">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Statistics with R</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Modules
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="BellCurve.html">Intro to the Normal Distribution</a>
    </li>
    <li>
      <a href="mean.html">Mean, Median, Mode</a>
    </li>
    <li>
      <a href="Variance.html">Spread of the Data</a>
    </li>
    <li>
      <a href="covariance_and_correlation.html">Covariance and Correlation</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore"></h1>

</div>


<script src="https://cdn.datacamp.com/datacamp-light-latest.min.js"></script>
<div id="gathering-data-on-another-variable" class="section level1">
<h1>Gathering data on another variable</h1>
<p>Back to the narrative of the teacup giraffes: we now include a 2nd variable * Is there any relationship to height? Why… * You wonder how the relationships between 2 variables can be assessed.</p>
<ul>
<li><p>Say you want to quantify how two variables change together– one such measure is the <strong>covariance</strong>.</p></li>
<li><p>The covariance elegantly combines the deviations of observations from two different variables into a single value.</p></li>
<li>We begin with scores representing the distance of each observation from the means of both x and on y. We call these the <strong>deviation</strong> scores on x and on y, respectively.</li>
<li><p>Deviation scores will take on either a postive or negative sign.</p></li>
<li><p>Why do we use the deviations? Because we want to answer the question ‘do the x values and y values move together with respect their means or not’.</p></li>
<li><p>We still want to construct shapes with the deviation scores.</p></li>
</ul>
<p>BLIke the variance, the values can fall on either side of the mean…</p>
<ul>
<li><p>The four things (but more like 3) different things that could happen are:</p></li>
<li></li>
<li></li>
<li></li>
<li><p>quick little thumbnails.</p></li>
<li>So we multiply the two deviation scores. This is called the <strong>crossproduct</strong>.</li>
<li><p>NOTE: We are in the dimension of a squared term. This will become important later.</p></li>
</ul>
<div style="margin-bottom:50px">

</div>
<span class="math display" id="eq:equation1">\[\begin{equation}
 \tag{1}
 \Large (x_i - \mu_{x})(y_i - \mu_{y})
 \end{equation}\]</span>
<div style="margin-bottom:50px">

</div>
<ul>
<li>SIDE NOTE: Let’s explore the attributes of the crossproduct.</li>
</ul>
<ol style="list-style-type: decimal">
<li>We should note that the signs of the cross product will depend on whether or not the two x- and y- values from the same observation move in the same directions relative to their means.</li>
<li>The magnitude of the cross-product will scale with the absolute value of the deviation scores.</li>
</ol>
<ul>
<li>We <strong>sum the crossproducts</strong>:</li>
</ul>
<div style="margin-bottom:50px">

</div>
<span class="math display" id="eq:equation2">\[\begin{equation}
 \tag{2}
 \Large \sum_{i=1}^n (x_i - \mu_x)(y_i - \mu_y)
 \end{equation}\]</span>
<div style="margin-bottom:50px">

</div>
<p>And then <strong>divide them by N (or N-1 in sample)</strong> so that we have taken into account how many observations contributed to this quantity. This final value is called the <strong>covariance</strong>.</p>
<div style="margin-bottom:50px">

</div>
<span class="math display" id="eq:equation3">\[\begin{equation}
 \tag{3}
 \Large cov = {\frac{1}{N}\sum_{i=1}^n (x_i - \mu_x)(y_i - \mu_y)}
 \end{equation}\]</span>
<div style="margin-bottom:50px">

</div>
<ul>
<li><p>BUT– the covariance is not an intuitive value. Not only is this a squared term (which makes it difficult to interpret just like the variance was) but it is also is the product of two variables on possibly different scales.</p></li>
<li><p>For example, what would a covariance with units of mm<sup>2* g</sup>2 mean?</p></li>
<li><p>another point to make is that value of the covariance will be vastly different if we had decided to change the units (mm vs cm – or g vs kg). Quora sentence.</p></li>
</ul>
<p>-As a result, we need to standardize!</p>
</div>
<div id="how-do-we-standardize-the-covariance" class="section level1">
<h1>How do we standardize the Covariance?</h1>
<ul>
<li>We need to rescale the covariance to fall within the boundaries of 0 and maximum spread of the data.</li>
<li>The solution is to divide by the product of the standard deviations for each variable (The square root of the variances) – the resulting value is called the <strong>Pearson correlation coefficient</strong>. The equation is shown below:</li>
</ul>
<div style="margin-bottom:50px">

</div>
<span class="math display" id="eq:equation1">\[\begin{equation}
 \tag{1}
 \Large \frac{ \frac{1}{N} \sum_{i=1}^n (x_i - \mu_x)(y_i - \mu_y)}{\sigma_x \sigma_y}
 \end{equation}\]</span>
<div style="margin-bottom:50px">

</div>
</div>
<div id="what-the-does-correlation-mean" class="section level1">
<h1>What the does correlation mean?</h1>
</div>
<div id="code-it-up." class="section level1">
<h1>Code it up.</h1>
<p>In the window below, write your own function to compute the sample covariance of two variables, and call it <code>my_covariance( )</code>. Then create a second function called <code>my_correlation( )</code> in which you will compute the correlation of two variables. You may incorporate your function <code>my_covariance( )</code> into this section function to save yourself some steps.</p>
<p>You will need to write both functions so that they will take two parameters. The parameters for <code>my_covariance( )</code> have been setup for you.</p>
<div data-datacamp-exercise="" data-height="400" data-encoded="true">
eyJsYW5ndWFnZSI6InIiLCJwcmVfZXhlcmNpc2VfY29kZSI6InNldC5zZWVkKDEyKVxuaGVpZ2h0c19pc2xhbmQxIDwtIHJub3JtKDUwLDEwLDIpIiwic2FtcGxlIjoibXlfY292YXJpYW5jZSA8LSBmdW5jdGlvbih4LHkpe1xuXG4gIHJldHVybiggKVxufVxuXG5teV9jb3JyZWxhdGlvbiA8LSBmdW5jdGlvbih4LHkpe1xuXG4gcmV0dXJuKCApXG59Iiwic29sdXRpb24iOiJteV9jb3ZhcmlhbmNlIDwtIGZ1bmN0aW9uKHgseSl7XG4gIG1feCA8LSBtZWFuKHgpXG4gIG1feSA8LSBtZWFuKHkpXG5cbiAgZGV2aWF0aW9uX3ggPC0geCAtIG1feFxuICBkZXZpYXRpb25feSA8LSB5IC0gbV95XG4gIFxuICBjcm9zc3Byb2R1Y3QgPC0gZGV2aWF0aW9uX3ggKiBkZXZpYXRpb25feVxuXG4gIGNvdmFyaWFuY2UgPC0gIGNyb3NzcHJvZHVjdCAvIChsZW5ndGgoeCktMSkgIyBEaXZpZGVzIGJ5IE4tMVxuICByZXR1cm4oY292YXJpYW5jZSlcbn1cblxubXlfY29ycmVsYXRpb24gPC0gZnVuY3Rpb24oeCx5KXtcbiBjb3JyZWxhdGlvbiA8LSBteV9jb3ZhcmlhbmNlKHgseSkgLyAoc2QoeCkqc2QoeSkpXG4gcmV0dXJuKGNvcnJlbGF0aW9uKVxufSJ9
</div>
</div>
<div id="why-divide-by-sigma_xsigma_y" class="section level1">
<h1>Why divide by <span class="math inline">\(\sigma_x\sigma_y\)</span>?</h1>
<p>Well, it’s complicated, but it builds on the mathematical principle that the covariance between x and y will never exceed the product of the standard deviations of each variable. This means the maximum If you don’t take our word for it, press play below to see how the relationship between s(x)*s(y) and cov(x,y) looks.</p>
<p>{INSERT PLOT}</p>
<p>As you look at the plot above, you may have the following questions: * Why are there clearly defined boundaries? + Because at the edges is wehre the COv is the greatest value it can be– it is equal to the sxsy there. + The slope is 1.</p>
<ul>
<li>Where in the plot/ shape do the strongest correlations end up?
<ul>
<li>On the edges – when the absolute value of the numerator and denominator of the equation are equal– the quotient will = 1 (or negative 1, depending on the sign of the covariance in the numerator)</li>
</ul></li>
</ul>
</div>
<div id="examples" class="section level1">
<h1>Examples</h1>
<p>How we can manipulate different parts of the equation to predictably influence the resulting correlation value.</p>
<p>Comparing 4 point in perfect correlation, with not perfect</p>
<ol style="list-style-type: decimal">
<li>COV DIFF, but STANDARD DEVIATION</li>
<li>COVARIANCE is the SAME/ LARGER DIFF (Desiree’s example)</li>
<li>both change (similar to 1 but pushed further…)</li>
</ol>
</div>
<div id="correlation-is-not-causation" class="section level1">
<h1>Correlation is not causation</h1>
<p>Correlation is not causation.</p>
</div>
<div id="correlation-does-not-capture-relationships-that-are-not-linear" class="section level1">
<h1>Correlation does not capture relationships that are not linear</h1>
<p>If the relationship is not linear, then correlation will not be meaningful.</p>
<p>^^ one of the above can be made into things to think about.</p>
</div>

<!DOCTYPE html>

<div class="foot">
	<hr /> 
	<p style="text-align: center;"> <span style="color: #808080;"> Created using </span></p>
	<p style="text-align: center;">
	<img class="foot_image" src="https://upload.wikimedia.org/wikipedia/commons/9/91/Octicons-mark-github.svg">
	<img class="foot_image" src="https://bookdown.org/yihui/rmarkdown/images/hex-rmarkdown.png">
	<img class="foot_image" src="https://www.rstudio.com/wp-content/uploads/2014/06/RStudio-Ball.png">
	</p>
</div>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
